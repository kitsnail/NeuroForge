# ğŸ§­ NeuroForge v1.5 ç»Ÿä¸€æ ‡å‡†è§„èŒƒæŒ‡å—

**AI é©±åŠ¨è§†é¢‘ç¼–æ’å¼•æ“ï¼ˆAI-driven Video Orchestration Engineï¼‰æ ¸å¿ƒæ ‡å‡†æ–‡æ¡£**

> ğŸ“ æ–‡ä»¶è·¯å¾„ï¼š`docs/specs/standards_v1.5.md`
> ğŸ—“ï¸ å‘å¸ƒæ—¥æœŸï¼š2025-11
> âœï¸ ä½œè€…ï¼šwh
> ğŸ”– çŠ¶æ€ï¼šâœ… ç¨³å®šç‰ˆï¼ˆæ”¯æŒ Context + Resume æ‰§è¡Œï¼‰

---

## 0. å¼•è¨€

**NeuroForge** æ˜¯ä¸€ä¸ªä¸“æ³¨äº **AI è§†é¢‘ç¼–æ’å¼•æ“ï¼ˆAI-driven Video Orchestration Engineï¼‰** çš„ç³»ç»Ÿï¼Œ
é€šè¿‡â€œæ—¶é—´çº¿ï¼ˆTimelineï¼‰â€ä¸â€œåœºæ™¯ï¼ˆSceneï¼‰â€çš„æŠ½è±¡ï¼Œå°†å¤šæ¨¡æ€ç”Ÿæˆï¼ˆè¯­éŸ³ã€å›¾åƒã€ç»“æ„å›¾ç­‰ï¼‰ç¼–æ’æˆè¿ç»­çš„è§†é¢‘å™äº‹ã€‚

v1.5 ç‰ˆæœ¬ç»§æ‰¿è‡ª v1.3 / v1.4 çš„ç»Ÿä¸€å‘½åä¸æ‰§è¡Œæ¶æ„ï¼Œè¿›ä¸€æ­¥å¼ºåŒ–äº†ä¸Šä¸‹æ–‡æ™ºèƒ½ï¼ˆContext Intelligenceï¼‰å’Œå¯æ¢å¤æ‰§è¡Œï¼ˆResume Modeï¼‰ï¼Œ
å®ç°æ›´ç¨³å®šã€æ›´æ™ºèƒ½ã€æ›´çµæ´»çš„æ—¶é—´çº¿æ§åˆ¶ã€‚

---

## 1. è®¾è®¡å“²å­¦

> ğŸ’¡ **â€œAI ç”Ÿæˆå†…å®¹ï¼ŒNeuroForge è´Ÿè´£ç¼–æ’ã€‚â€**

NeuroForge çš„æ ¸å¿ƒæ€ç»´æ¨¡å‹æ˜¯ï¼š

> å°†å¤šæ¨¡æ€ AI ç”Ÿæˆè¿‡ç¨‹æŠ½è±¡ä¸ºâ€œæ—¶é—´çº¿å¯ç¼–æ’çš„é€»è¾‘å•å…ƒâ€ã€‚

å› æ­¤ï¼Œè®¾è®¡å“²å­¦éµå¾ªä¸‰é¡¹å‡†åˆ™ï¼š

| åŸåˆ™                                    | è¯´æ˜                                                                           |
| ------------------------------------- | ---------------------------------------------------------------------------- |
| **å•ä¸€è¯­ä¹‰ä¸­å¿ƒï¼ˆSingle Semantic Coreï¼‰**      | æ‰€æœ‰å‘½åä»¥æ—¶é—´çº¿ä¸åœºæ™¯ä¸ºä¸­å¿ƒï¼Œä¸å¼•å…¥å…¶ä»–æŠ½è±¡å±‚ã€‚                                                     |
| **ä¸Šä¸‹æ–‡é©±åŠ¨æ‰§è¡Œï¼ˆContext-driven Executionï¼‰** | æ‰€æœ‰æ’ä»¶é€šè¿‡ç»Ÿä¸€ä¸Šä¸‹æ–‡ç»“æ„å…±äº«çŠ¶æ€ï¼Œé¿å…æ¨¡å—è€¦åˆã€‚                                                    |
| **æœ€å°å¯æ‰©å±•æ ¸å¿ƒï¼ˆMinimal Expandable Coreï¼‰**  | æ ¸å¿ƒæ¨¡å—ä»…åŒ…å« Timeline / Scheduler / IO / Logger / Loader / SceneRunner / Contextã€‚ |

---

## 2. é¡¹ç›®é…ç½®ç»“æ„ï¼ˆYAML Schemaï¼‰

é¡¹ç›®é…ç½®æ–‡ä»¶é‡‡ç”¨ YAML æ ¼å¼ï¼Œç»Ÿä¸€å®šä¹‰é¡¹ç›®çº§å…ƒæ•°æ®ã€æ—¶é—´çº¿æ¨¡å¼ä¸åœºæ™¯ç¼–æ’ã€‚

```yaml
meta:
  version: 1.5
  project: "NeuroForge Context Timeline"
  author: "wh"
  bgm: "assets/bgm/soft_thinking.mp3"
  resolution: "1280x720"
  fps: 30

timeline:
  mode: auto
  resume: true          # âœ… v1.5 æ–°å¢ï¼Œå¯æ–­ç‚¹ç»­è·‘

scenes:
  - id: 1
    title: "Introduction"
    narration: "Welcome to the NeuroForge v1.5 engine."
    pipeline: [canvas, d2, tts, mix, compose]

  - id: 2
    title: "AI Composed Story"
    narration: "Now the system understands context intelligently."
    pipeline: [canvas, tts, mix, compose]
```

---

## 3. å‘½åä¸ç»“æ„è§„èŒƒ

### 3.1 å‘½åè¾¹ç•Œ

| å±‚çº§   | åç§°         | å«ä¹‰     | è¯´æ˜               |
| ---- | ---------- | ------ | ---------------- |
| å·¥ç¨‹çº§  | `meta`     | å…¨å±€é¡¹ç›®ä¿¡æ¯ | ä½œè€…ã€å¸§ç‡ã€BGM ç­‰      |
| æ—¶é—´çº¿çº§ | `timeline` | æ—¶é—´åºåˆ—è°ƒåº¦ | æ§åˆ¶åœºæ™¯æ‰§è¡Œæ–¹å¼         |
| åœºæ™¯çº§  | `scene`    | å•ä¸ªè§†é¢‘ç‰‡æ®µ | åŒ…å«å™è¿°æ–‡æœ¬ã€æ’ä»¶ç®¡çº¿      |
| æ’ä»¶çº§  | `pipeline` | æ‰§è¡ŒèŠ‚ç‚¹é›†åˆ | æ¯ä¸ªæ’ä»¶ä»£è¡¨ä¸€ä¸ªå¤„ç†æ­¥éª¤     |
| ä¸Šä¸‹æ–‡çº§ | `context`  | è¿è¡ŒçŠ¶æ€å…±äº« | æ’ä»¶é—´å…±äº«çŠ¶æ€ï¼ˆv1.5 æ–°å¢ï¼‰ |

---

### 3.2 åœºæ™¯å®šä¹‰ç»“æ„ï¼ˆScene Schemaï¼‰

| å­—æ®µ          | ç±»å‹   | è¯´æ˜             | å¿…å¡« |
| ----------- | ---- | -------------- | -- |
| `id`        | int  | åœºæ™¯ç¼–å·           | âœ…  |
| `title`     | str  | åœºæ™¯æ ‡é¢˜           | âœ…  |
| `narration` | str  | åœºæ™¯å™è¿°ï¼ˆTTS è¾“å…¥ï¼‰   | âœ…  |
| `pipeline`  | list | æ’ä»¶æ‰§è¡Œé¡ºåº         | âœ…  |
| `assets`    | dict | åœºæ™¯ç´ æèµ„æºï¼ˆå›¾åƒ/éŸ³é¢‘ç­‰ï¼‰ | âŒ  |
| `meta`      | dict | åœºæ™¯ç‰¹å®šå‚æ•°ï¼ˆè¯­é€Ÿã€éŸ³è‰²ç­‰ï¼‰ | âŒ  |

> âœ… ä»ä½¿ç”¨ `narration` è€Œé `text`ã€‚
> ç†ç”±ï¼šè¯­ä¹‰æ›´æ˜ç¡®ï¼Œä¸â€œå™è¿°æ—¶é—´çº¿â€é€»è¾‘ä¸€è‡´ï¼Œä¾¿äºæœªæ¥è¯­éŸ³é©±åŠ¨æ‰©å±•ã€‚

---

## 4. æ’ä»¶ç³»ç»Ÿæ ‡å‡†

### 4.1 æ’ä»¶è¾“å…¥ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰

æ¯ä¸ªæ’ä»¶åœ¨æ‰§è¡Œæ—¶ï¼Œå‡æ¥æ”¶ç»Ÿä¸€ä¸Šä¸‹æ–‡ç»“æ„ï¼š

```python
ctx = {
  "meta": {...},         # é¡¹ç›®å…¨å±€ä¿¡æ¯
  "scene": {...},        # å½“å‰åœºæ™¯å®šä¹‰
  "scene_id": 1,
  "scene_dir": "output/scene_1",
  "context": {...},      # v1.5 æ–°å¢ï¼šè·¨æ’ä»¶çŠ¶æ€ç¼“å­˜
}
```

---

### 4.2 æ’ä»¶è¾“å‡ºç»“æ„

æ’ä»¶æ‰§è¡Œåï¼Œå¿…é¡»è¿”å›æ ‡å‡†åŒ–å­—å…¸ï¼š

```python
return {
  "<plugin_name>": {
    "status": "ok",             # "ok" | "skip" | "error"
    "file": "xxx.png",          # é€šç”¨æ–‡ä»¶è¾“å‡º
    "audio_out": "xxx.wav",     # éŸ³é¢‘è¾“å‡º
    "video_out": "xxx.mp4",     # è§†é¢‘è¾“å‡º
    "subtitle_out": "xxx.srt",  # å­—å¹•æ–‡ä»¶
    "duration": 4.86,           # è¾“å‡ºæ—¶é•¿
    "meta": {...},              # å†…éƒ¨å…ƒæ•°æ®
  }
}
```

---

### 4.3 æ’ä»¶å‘½åä¸èŒè´£è§„èŒƒ

| æ’ä»¶å          | åŠŸèƒ½         | ä¸»è¦è¾“å‡º                                    |
| ------------ | ---------- | --------------------------------------- |
| `canvas`     | ç”ŸæˆåŸºç¡€ç”»å¸ƒ     | `file`                                  |
| `d2`         | æ¸²æŸ“ç»“æ„å›¾      | `file`                                  |
| `tts`        | æ–‡æœ¬è½¬è¯­éŸ³ + å­—å¹• | `audio_out`, `subtitle_out`, `duration` |
| `mix`        | æ··åˆè¯­éŸ³ä¸èƒŒæ™¯éŸ³ä¹  | `audio_out`, `duration`                 |
| `compose`    | åˆæˆæœ€ç»ˆè§†é¢‘     | `video_out`, `duration`                 |
| `transition` | åœºæ™¯è¿‡æ¸¡åŠ¨ç”»     | ï¼ˆè®¡åˆ’ä¸­ï¼‰                                   |
| `analyze`    | è§†é¢‘æ™ºèƒ½åˆ†æ/æ ‡ç­¾  | ï¼ˆè®¡åˆ’ä¸­ï¼‰                                   |

---

### 4.4 æ’ä»¶ç›®å½•ç»“æ„è§„èŒƒ

```
plugins/
 â”œâ”€â”€ canvas/
 â”‚   â””â”€â”€ plugin.py
 â”œâ”€â”€ d2/
 â”‚   â””â”€â”€ plugin.py
 â”œâ”€â”€ tts/
 â”‚   â””â”€â”€ plugin.py
 â”œâ”€â”€ mix/
 â”‚   â””â”€â”€ plugin.py
 â”œâ”€â”€ compose/
 â”‚   â””â”€â”€ plugin.py
 â”œâ”€â”€ transition/     # v1.5 é¢„å¤‡
 â”‚   â””â”€â”€ plugin.py
 â””â”€â”€ analyze/        # v1.5 é¢„å¤‡
     â””â”€â”€ plugin.py
```

---

## 5. è¾“å‡ºå‘½åæ ‡å‡†åŒ–

| è¾“å‡ºç±»å‹  | å­—æ®µå            | ç¤ºä¾‹             | è¯´æ˜              |
| ----- | -------------- | -------------- | --------------- |
| å›¾åƒè¾“å‡º  | `file`         | `canvas.png`   | é€šç”¨å›¾åƒè¾“å‡º          |
| éŸ³é¢‘è¾“å‡º  | `audio_out`    | `tts.wav`      | éŸ³é¢‘æ–‡ä»¶è·¯å¾„          |
| è§†é¢‘è¾“å‡º  | `video_out`    | `final.mp4`    | è§†é¢‘æ–‡ä»¶è·¯å¾„          |
| å­—å¹•è¾“å‡º  | `subtitle_out` | `subtitle.srt` | å­—å¹•è¾“å‡º            |
| æ—¶é•¿ä¿¡æ¯  | `duration`     | `4.63`         | è¾“å‡ºå†…å®¹é•¿åº¦ï¼ˆç§’ï¼‰       |
| ä¸Šä¸‹æ–‡è¾“å‡º | `context_out`  | `context.json` | v1.5 æ–°å¢ï¼šä¸Šä¸‹æ–‡ç¼“å­˜è¾“å‡º |

---

## 6. ç³»ç»Ÿæ ¸å¿ƒæ¨¡å—è§„èŒƒ

| æ¨¡å—æ–‡ä»¶              | ç±»/å‡½æ•°             | èŒè´£              |
| ----------------- | ---------------- | --------------- |
| `scheduler.py`    | `Scheduler`      | è°ƒåº¦å¯åŠ¨ã€å…¨å±€æ§åˆ¶       |
| `timeline.py`     | `Timeline`       | åœºæ™¯æ—¶é—´é¡ºåºæ§åˆ¶        |
| `scene_runner.py` | `SceneRunner`    | åœºæ™¯æ’ä»¶æ‰§è¡Œ          |
| `context.py`      | `ContextManager` | v1.5 æ–°å¢ï¼šä¸Šä¸‹æ–‡çŠ¶æ€ç»´æŠ¤ |
| `io.py`           | `IOManager`      | ç»Ÿä¸€è¾“å‡ºè·¯å¾„ç®¡ç†        |
| `loader.py`       | `PluginLoader`   | åŠ¨æ€æ’ä»¶åŠ è½½å™¨         |
| `logger.py`       | `log()`          | æ§åˆ¶å°æ—¥å¿—è¾“å‡º         |

---

## 7. ä¸€è‡´æ€§éªŒè¯è¡¨ï¼ˆv1.5ï¼‰

| èŒƒç•´     | éªŒè¯ç‚¹                                            | çŠ¶æ€ |
| ------ | ---------------------------------------------- | -- |
| æ—¶é—´çº¿è¯­ä¹‰  | timeline / scene / narration                   | âœ…  |
| è¾“å‡ºè¯­ä¹‰   | file / audio_out / video_out / subtitle_out    | âœ…  |
| ä¸Šä¸‹æ–‡ä¸€è‡´æ€§ | meta / scene / context                         | âœ…  |
| æ’ä»¶è¯­ä¹‰   | canvas / d2 / tts / mix / compose / transition | âœ…  |
| æ¢å¤æ‰§è¡Œ   | resume æ¨¡å¼                                      | âœ…  |
| å‘ä¸‹å…¼å®¹   | v1.3/v1.4 é…ç½®å…¼å®¹                                 | âœ…  |

---

## 8. æ–‡æ¡£ç®¡ç†ä¸ç‰ˆæœ¬æ¼”è¿›ç­–ç•¥

**ç›®å½•ç»“æ„å»ºè®®ï¼š**

```
docs/
 â”œâ”€â”€ specs/
 â”‚   â”œâ”€â”€ standards_v1.3.md
 â”‚   â”œâ”€â”€ standards_v1.4.md
 â”‚   â””â”€â”€ standards_v1.5.md   â† å½“å‰ç‰ˆæœ¬
 â”œâ”€â”€ roadmap/
 â”‚   â””â”€â”€ NeuroForge_roadmap_v1.x.md
 â””â”€â”€ CHANGELOG_v1.5.md
```

**ç®¡ç†è§„åˆ™ï¼š**

1. æ¯ä¸ªç‰ˆæœ¬çš„è§„èŒƒæ–‡ä»¶å‘å¸ƒåæ°¸ä¹…å†»ç»“ï¼›
2. æ–°ç‰ˆæœ¬éœ€å®Œæ•´å¤åˆ¶ä¸Šä¸€ç‰ˆä½œä¸ºåŸºç¡€ï¼›
3. æ—§ç‰ˆæœ¬ç¦æ­¢ç›´æ¥ç¼–è¾‘ï¼›
4. æ‰€æœ‰è§„èŒƒæ›´æ–°å¿…é¡»åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­æäº¤å˜æ›´è¯´æ˜ï¼›
5. ä¸»ä»“åº“ README.md å§‹ç»ˆæŒ‡å‘æœ€æ–°ç¨³å®šè§„èŒƒã€‚

---

## 9. ç‰ˆæœ¬å£°æ˜

| é¡¹ç›®å­—æ®µ     | ä¿¡æ¯                                  |
| -------- | ----------------------------------- |
| **ç‰ˆæœ¬å·**  | v1.5                                |
| **å‘å¸ƒæ—¥æœŸ** | 2025-11                             |
| **ä½œè€…**   | wh                                  |
| **çŠ¶æ€**   | âœ… ç¨³å®šç‰ˆ                               |
| **ç‰¹æ€§æ‘˜è¦** | Context æ‰©å±• + Resume æ‰§è¡Œ + Plugin æ ‡å‡†åŒ– |

---

## âœ… æ€»ç»“

NeuroForge v1.5 æ˜¯ä¸€ä¸ªâ€œä¸Šä¸‹æ–‡æ„ŸçŸ¥â€çš„æ—¶é—´çº¿å¼•æ“ç‰ˆæœ¬ï¼Œ
åœ¨ä¿è¯æ ¸å¿ƒç»“æ„æç®€çš„åŒæ—¶ï¼Œæå‡äº†ç³»ç»Ÿæ™ºèƒ½æ€§ä¸å¯æ‰©å±•æ€§ã€‚

> **v1.3** å®šä¹‰å‘½åä¸è¯­ä¹‰ â†’
> **v1.4** ç¨³å®šæœ€å°æ ¸å¿ƒ â†’
> **v1.5** å¼•å…¥ä¸Šä¸‹æ–‡æ™ºèƒ½ä¸æŒä¹…æ‰§è¡Œã€‚

---

## ğŸ§© é™„ï¼šè‡ªåŠ¨å½’æ¡£è„šæœ¬ï¼ˆç®¡ç†å·¥å…·ï¼‰

> ğŸ“„ æ–‡ä»¶å»ºè®®ä½ç½®ï¼š`tools/archive_spec.sh`

```bash
#!/bin/bash
# Auto archive and bump NeuroForge spec version
set -e

DOCS_DIR="docs/specs"
LATEST=$(ls $DOCS_DIR | grep standards_v | sort -V | tail -1)
NEXT_VER=$1

if [ -z "$NEXT_VER" ]; then
  echo "Usage: ./tools/archive_spec.sh <next_version>"
  exit 1
fi

cp "$DOCS_DIR/$LATEST" "$DOCS_DIR/standards_$NEXT_VER.md"
echo "âœ… Created new spec version: standards_$NEXT_VER.md"
```

æ‰§è¡Œæ–¹å¼ï¼š

```bash
bash tools/archive_spec.sh v1.6
```

è‡ªåŠ¨å¤åˆ¶æœ€æ–°ç‰ˆæœ¬è§„èŒƒå¹¶åˆ›å»ºä¸‹ä¸€ç‰ˆæ¨¡æ¿ï¼Œç¡®ä¿è§„èŒƒæ¼”è¿›è·¯å¾„å¯è¿½è¸ªã€å¯å®¡è®¡ã€‚